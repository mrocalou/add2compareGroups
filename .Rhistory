devtools::clean_dll()    # Neteja compilats de C++ (si n'hi ha)
unlink(".RData")         # Esborra .RData si existeix
unlink(".Rhistory")      # Esborra historial de comandaments
getwd()
load("~/TFG/add2compareGroups/data/pulmon_ORO.RData")
pulmon_ORO
ncol(pulmon_ORO)
devtools::document()
devtools::document()
# 1. Documenta el paquet (genera NAMESPACE, etc.)
devtools::document()
devtools::build_vignettes()
devtools::install()
renv::upgrade()   # actualitza tots els paquets
install.packages("renv")
renv::upgrade()   # actualitza tots els paquets
devtools::install()
devtools::install()
library(add2compareGroups)
tools::pkgVignettes(dir = ".")$docs
browseVignettes("add2compareGroups")
# 1. Documenta el paquet (genera NAMESPACE, etc.)
devtools::document()
devtools::build_vignettes()
devtools::install()
# 4. Carrega el paquet
library(add2compareGroups)
# 5. Mira si R detecta la vignette
tools::pkgVignettes(dir = ".")$docs
detach("package:add2compareGroups", unload = TRUE)
devtools::install()
# 4. Carrega el paquet
library(add2compareGroups)
# 5. Mira si R detecta la vignette
tools::pkgVignettes(dir = ".")$docs
# 6. Obre les vignettes
browseVignettes("add2compareGroups")
detach("package:add2compareGroups", unload = TRUE)
# 1. Documenta el paquet (genera NAMESPACE, etc.)
devtools::document()
# 2. Construeix les vignettes
devtools::build_vignettes()
# 3. Instal·la el paquet (això instal·la EL TEU PAQUET, no devtools!)
devtools::install()
# 4. Carrega el paquet
library(add2compareGroups)
# 5. Mira si R detecta la vignette
tools::pkgVignettes(dir = ".")$docs
# 6. Obre les vignettes
browseVignettes("add2compareGroups")
list.files("vignettes")
readLines("DESCRIPTION", n = 15)
str(tools::pkgVignettes(dir = "."))
setwd("~/TFG/add2compareGroups")
getwd()
devtools::document()
devtools::build_vignettes(quiet = FALSE)
tools::pkgVignettes(dir = ".")$docs
readLines(".Rbuildignore")
devtools::build_vignettes()
devtools::install(build_vignettes = TRUE)
browseVignettes("add2compareGroups")
devtools::check()
install.packages("gridExtra")
devtools::check()
devtools::build_vignettes()
tools::pkgVignettes(dir = ".")$docs
devtools::install(build_vignettes = TRUE)
browseVignettes("add2compareGroups")
devtools::check()
devtools::build()
devtools::build_vignettes()
devtools::test()
devtools::test()
usethis::use_test()
devtools::check()
# Neteja l'entorn actual (opcional, però bo per començar net)
rm(list = ls())
# Carrega devtools (necessari per les comprovacions)
if (!require("devtools")) install.packages("devtools")
library(devtools)
# Comprova que el DESCRIPTION és vàlid
check_description()
document()
# Construeix les vignettes
build_vignettes(quiet = FALSE)
# Instal·la el paquet localment
install()
# Prova que la vignette es pot veure
browseVignettes("add2compareGroups")
# Assegura't que tens README.Rmd → genera README.md
build_readme()
# Assegura't que tens README.Rmd → genera README.md
build_readme()
browseVignettes("add2compareGroups")
git add .
# 1.1 Estàs al directori del paquet?
getwd()
# 1.2 Revisa que existeixi DESCRIPTION i que contingui aquests camps:
readLines("DESCRIPTION")
# 1.3 Revisa .Rbuildignore (pot causar que s'excloguin vignettes)
if (file.exists(".Rbuildignore")) cat(readLines(".Rbuildignore"), sep = "\n") else cat(".Rbuildignore no existeix\n")
# Elimina inst/doc (on es col·loquen les HTML compilades)
if (dir.exists("inst/doc")) {
unlink("inst/doc", recursive = TRUE)
message("inst/doc eliminat")
} else message("inst/doc no existia")
# Elimina possibles fitxers HTML o .R generats dins vignettes (només els outputs)
old <- list.files("vignettes", pattern = "\\.(html|R)$", full.names = TRUE)
if (length(old)) {
unlink(old)
message("Arxius antics a vignettes/ eliminats:", paste(basename(old), collapse = ", "))
} else message("No s'han trobat arxius html/.R a vignettes/")
devtools::document()
devtools::build_vignettes(quiet = FALSE)
devtools::install(build_vignettes = TRUE)
browseVignettes("add2compareGroups")
list.files(system.file("doc", package = "add2compareGroups"))
req <- c("knitr", "rmarkdown", "gridExtra", "kableExtra")
to_install <- setdiff(req, rownames(installed.packages()))
if(length(to_install)) install.packages(to_install) else message("Tots els paquets necessaris ja estan instal·lats")
# On es troba la doc instal·lada?
system.file("doc", package = "add2compareGroups")
# Llista els fitxers al doc
list.files(system.file("doc", package = "add2compareGroups"))
# Obre el navegador de vignettes
browseVignettes("add2compareGroups")
# Alternativa: llistar vignettes disponibles (nom i ruta)
tools::pkgVignettes(dir = ".")$docs
# Regenera documentació
devtools::document()
# Compila vignettes
devtools::build_vignettes()
# Reinstal·la el paquet amb vignettes
devtools::install(build_vignettes = TRUE)
# Comprova que la vignette apareix
browseVignettes("add2compareGroups")
# Últim check (simula l'avaluació CRAN)
devtools::check()
devtools::check()
system("git init")     # Inicialitza git
system("git branch -M main")  # Assegura que la branca principal es diu main
system("git remote add origin https://github.com/mrocalou/add2compareGroups.git")
system("git remote -v")
system("git --version")
system("git --version")
system("git init")     # Inicialitza git
system("git branch -M main")  # Assegura que la branca principal es diu main
system("git remote add origin https://github.com/mrocalou/add2compareGroups.git")
system("git remote -v")
# Afegeix tots els fitxers (codi, vignettes, documentació, etc.)
system("git add -A")
# Desa aquests canvis amb un missatge
system('git commit -m "Primera versió del paquet amb vignettes"')
# Pujar al repositori GitHub
system("git push -u origin main")
git config --global user.name "Mireia Roca"
git commit -m "Initial version of the package"
getwd
getwd()
devtools::document()
devtools::build_vignettes()
devtools::check()
devtools::build()
devtools::document()
devtools::document()
devtools::document()
list.files("data")                 # quins fitxers .rda tens
# mira els objectes al workspace
load("data/lung_patients.RData")
ls()
load("data/lung_patients.RData")
ls()
save(lung_patients, file = "data/lung_patients.RData", compress = "xz")
save(pulmon_ORO, file = "data/lung_patients.RData", compress = "xz")
load("data/lung_patients.RData")
load("data/lung_patients.RData")
lung_patients <- pulmon_ORO
usethis::use_data(lung_patients, overwrite = TRUE)
rm(list = ls())              # neteja l'entorn
load("data/lung_patients.rda")
ls()
# hauria de mostrar "lung_patients"
# regenera manualment la documentació i els .Rd
devtools::document()
# elimina inst/doc (vignettes compilades prèviament)
if (dir.exists("inst/doc")) unlink("inst/doc", recursive = TRUE)
# elimina html/.R que hagin pogut quedar a vignettes/
old <- list.files("vignettes", pattern = "\\.(html|R)$", full.names = TRUE)
if (length(old)) unlink(old)
devtools::build_vignettes(quiet = FALSE)
list.files("data")
load("data/lung_patients.RData")
save(lung_patients, file = "lung_patients.RData")
load("data/lung_patients.RData")
lung_patients
lung_patients <- pulmon_ORO
save(lung_patients, file = "lung_patients.RData")
load("data/lung_patients.RData")
devtools::build_vignettes(quiet = FALSE)
devtools::install(build_vignettes = TRUE)
system.file("doc", package = "add2compareGroups")    # ha de retornar la ruta a inst/doc
list.files(system.file("doc", package = "add2compareGroups"))
browseVignettes("add2compareGroups")                 # obre el navegador (si tot OK)
devtools::check()
save(lung_patients, file = "lung_patients.rda")   # Desa només aquest objecte
load("data/lung_patients.rda")
devtools::build_vignettes(quiet = FALSE)
devtools::install(build_vignettes = TRUE)
system.file("doc", package = "add2compareGroups")    # ha de retornar la ruta a inst/doc
list.files(system.file("doc", package = "add2compareGroups"))
browseVignettes("add2compareGroups")                 # obre el navegador (si tot OK)
devtools::check()
devtools::check()
getwd()
